<!--
  Generated template for the ConfirmBookingPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>Booking</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-card>
    <ion-card-content no-padding>
      <ion-grid>
        <ion-row class="border-bottom header">
          <ion-col>
            <h2>Confirmation</h2>
            <p *ngIf="upcoming" class="cancel" (click)="cancelBooking()">Cancel</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col align-self-center col-4>
            <p class="day">{{dateObject.day}}</p>
            <p class="date">{{dateObject.date}}</p>
            <p class="month">{{dateObject.month}}</p>
            <p class="time">{{functions.formatClockTime(booking.time, true)}}</p>
          </ion-col>
          <ion-col align-self-center col-8>
            <p class="restaurant">{{restaurant.name}}</p>
            <p class="address">{{restaurant.address}}</p>
            <p class="address">{{restaurant.city}}, {{restaurant.state}}, {{restaurant.zipcode}}</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">Pricing</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.discount}}% off</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">People</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.people}}</p>
          </ion-col>
        </ion-row>

        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">Name</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.name}}</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">Phone</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.phone}}</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">Email</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.email}}</p>
          </ion-col>
        </ion-row>
        <ion-row class="border-bottom">
          <ion-col col-4>
            <p class="field-title">Code</p>
          </ion-col>
          <ion-col col-8>
            <p class="field-content">{{booking.code}}</p>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col class="redeem">
            <div class="redeem-wrapper">
              <p>Redeem this booking when you arrive at the restaurant and present it to your server.</p>
              <div class="redeem-liner">
                <button ion-button block color="primary" (click)="redeemBooking()">
                  <div *ngIf="!redeemed">REDEEM</div>
                  <div *ngIf="!redeemed">BOOKING</div>
                  <img *ngIf="redeemed" src="assets/imgs/white-logo.png">
                </button>
                <div *ngIf="!redeemed" [ngClass]="(withinTime && withinDistance) ? 'green' : 'orange'" class="geolocate-indicator"></div>
              </div>
            </div>
            <h2 [ngClass]="{'redeemed': redeemed}">Redeemed!</h2>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>
